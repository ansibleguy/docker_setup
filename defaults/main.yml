# see: https://docs.docker.com/engine/install/debian/

default_docker:
  compose: false
  compose_version: 1.29.2


CONFIG: "{{ default_docker | combine(docker, recursive=true) }}"

setup:
  dependencies:
    - 'apt-transport-https'
    - 'ca-certificates'
    - 'gnupg'
    - 'curl'

  repo_key_url: 'https://download.docker.com/linux/debian/gpg'
  repo_key: '/usr/share/keyrings/docker-archive-keyring.gpg'
  repo: "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian {{ ansible_distribution_release }} stable"

  packages:
    - 'docker-ce'
    - 'docker-ce-cli'
    - 'containerd.io'

  compose_url: "https://github.com/docker/compose/releases/download/{{ CONFIG.compose_version }}/docker-compose-Linux-x86_64"